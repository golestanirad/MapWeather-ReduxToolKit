(this["webpackJsonprtk-weather"]=this["webpackJsonprtk-weather"]||[]).push([[0],{109:function(e,t,a){e.exports=a(178)},118:function(e,t,a){},168:function(e,t,a){},171:function(e,t,a){},176:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),i=a.n(o),c=a(9),s=(a(118),a(24),a(87),a(88),a(25),a(230),a(233),a(231),a(234),a(235),a(16),a(20)),u=a.n(s),d=(a(89),a(49)),l=a(13),p=a.n(l),f=a(23),h=a(34),m=a(26),b=a(65),v=a.n(b),g=a(36),_=a.n(g);a(162),a(164);_.a.initializeApp({apiKey:"AIzaSyCBn2ciVykGZ5jzImQj1qoPojQLYMMcXEI",authDomain:"map-weather-10531.firebaseapp.com",databaseURL:"https://map-weather-10531.firebaseio.com",projectId:"map-weather-10531",storageBucket:"map-weather-10531.appspot.com",messagingSenderId:"848134999340",appId:"1:848134999340:web:cebf58200aa623eebf7089",measurementId:"G-L04ENL8Z78"});new _.a.auth.GoogleAuthProvider;var x=_.a.auth(),y=_.a.firestore(),L=(_.a,function(e,t){try{var a="https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&appid=b3e4ac819a75b7e1ffe53d3d5701cc90&units=metric");return v.a.get(a)}catch(n){console.log("errrorrrrr",n)}}),w=function(e,t){try{var a="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e,"&lon=").concat(t,"&appid=b3e4ac819a75b7e1ffe53d3d5701cc90&units=metric");return v.a.get(a)}catch(n){console.log("errrorrrrr",n)}},F=Object(m.b)({name:"weather",initialState:{weatherLocations:{},favorites:[],visible:[],expanded:[],isLoading:!1,error:null},reducers:{getWeatherStart:function(e,t){e.isLoading=!0},getWeatherSuccess:function(e,t){e.weatherLocations=Object(h.a)(Object(h.a)({},t.payload),e.weatherLocations);var a=Object.keys(t.payload)[0];e.visible.includes(a)||e.visible.push(a),e.expanded.includes(a)||e.expanded.push(a),e.isLoading=!1,e.error=null},getWeatherFailure:function(e,t){e.isLoading=!1,e.error=t.payload},addToFavoriteListSuccess:function(e,t){e.favorites.push(t.payload),e.isLoading=!1},addToFavoriteListFailure:function(e,t){e.error=t.payload,e.isLoading=!1},removeFromFavoriteListSuccess:function(e,t){e.favorites=u.a.without(e.favorites,t.payload)},removeFromFavoriteListFailure:function(e,t){e.error=t.payload},deleteLocation:function(e,t){delete e.weatherLocations[t.payload]},initialFavoritesFetchStart:function(e,t){e.isLoading=!0},initialFavoritesFetchSuccess:function(e,t){e.isLoading=!1,e.weatherLocations=Object(h.a)(Object(h.a)({},e.weatherLocations),t.payload),e.favorites=Object.keys(t.payload),Object.keys(t.payload).map((function(t){e.visible.includes(t)||e.visible.push(t),e.expanded.includes(t)||e.expanded.push(t)}))},initialFavoritesFetchFailure:function(e,t){e.isLoading=!1,e.error=t.payload},addToVisibleLocations:function(e,t){e.visible.push(t.payload)},removeFromVisibleLocations:function(e,t){e.visible=u.a.without(e.visible,t.payload)},addToExpandedCards:function(e,t){e.expanded.push(t.payload)},removeFromExpandedCards:function(e,t){e.expanded=u.a.without(e.expanded,t.payload)},restWholeData:function(e){e.weatherLocations={},e.favorites=[],e.visible=[]}}}),S=F.actions,j=S.getWeatherStart,k=S.getWeatherSuccess,O=S.getWeatherFailure,E=(S.addToFavoriteListSuccess,S.addToFavoriteListFailure,S.removeFromFavoriteListSuccess,S.removeFromFavoriteListFailure,S.deleteLocation,S.initialFavoritesFetchStart,S.initialFavoritesFetchSuccess,S.initialFavoritesFetchFailure,S.addToVisibleLocations,S.removeFromVisibleLocations,S.restWholeData,S.addToExpandedCards,S.removeFromExpandedCards,F.reducer),T=function(e,t){return function(){var a=Object(f.a)(p.a.mark((function a(n){var r,o,i,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(j()),a.next=4,Promise.all([L(e,t),w(e,t)]);case 4:r=a.sent,o=r[0].data,i=r[1].data,c=U(o,i),n(k(c)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.log("getWeather errorrrrrrr",a.t0),n(O(a.t0));case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},U=function(e,t){var a=t.city,n=t.list,r=e.main,o=e.weather,i=e.dt,c=e.coord;return Object(d.a)({},a.name+" - "+a.country,{timezone:a.timezone,locationName:a.name+" - "+a.country,coord:{lat:c.lat,lng:c.lon},current:{temp:r.temp,icon:o[0].icon,dt:i,description:o[0].description},forecast:n.map((function(e){var t=e.main,a=e.weather,n=e.dt;return{temp:t.temp,icon:a[0].icon,dt:n,description:a[0].description}}))})},I=Object(m.b)({name:"map",initialState:{currentLocation:{lat:49.2827,lng:-123.1207}},reducers:{currentLocation:function(e,t){e.currentLocation=t.payload}}}),C=I.actions.currentLocation,W=I.reducer,z=(a(90),a(215),a(168),a(91),a(92),a(229),a(32),a(59),a(93),a(171),a(66),a(216)),A=(a(220),a(221),a(223),a(218),a(222),a(179),Object(z.a)({table:{},row:{border:"2px solid gray"},cell:{maxWidth:"35px",padding:"6px"},insideCell:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontWeight:"bold",fontSize:"10px",margin:"2px"},day:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",fontSize:"15px",fontWeight:"bold",borderRadius:"10px",width:"37px",padding:"0 2px"},icon:{backgroundColor:"gray"}}),a(228),a(232),a(227),a(225),a(226),a(224),a(94),a(67),a(95),a(68),a(56)),D=a(43),V=a(57),K=a.n(V);function M(){var e=Object(A.a)(["\n  display: block;\n  margin: 5px auto;\n  border-color: red;\n"]);return M=function(){return e},e}Object(D.css)(M()),a(97),a(60),a(176);var P=Object(m.b)({name:"user",initialState:{userInfo:{name:null,email:null,uid:null},isLoading:!1,error:null},reducers:{checkUserStatusStart:function(e,t){e.isLoading=!0},checkUserStatusSuccess:function(e,t){var a=t.payload,n=a.name,r=a.email,o=a.uid;e.userInfo={name:n,email:r,uid:o},e.isLoading=!1},checkUserStatusFailure:function(e,t){e.isLoading=!1,e.error=t.payload},loginUserStart:function(e,t){e.isLoading=!0},loginUserSuccess:function(e,t){e.isLoading=!1},loginUserFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}}),R=P.actions,B=R.checkUserStatusStart,N=R.checkUserStatusSuccess,G=R.checkUserStatusFailure,J=(R.loginUserFailure,R.loginUserStart,R.loginUserSuccess,P.reducer),Q=function(){var e=Object(c.b)();Object(c.c)((function(e){return e.user.userInfo.uid}));return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(t){var a=t.coords,n=a.latitude,r=a.longitude;e(C({lat:n,lng:r})),e(T(n,r))}))}),[]),Object(n.useEffect)((function(){var t=x.onAuthStateChanged((function(t){e(function(e){return function(){var t=Object(f.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a(B()),e){t.next=5;break}return a(N({name:null,email:null,uid:null})),t.abrupt("return");case 5:if((n=y.collection("users").doc(e.uid)).exists){t.next=9;break}return t.next=9,n.set({name:e.displayName,email:e.email,uid:e.uid});case 9:a(N({name:e.displayName,email:e.email,uid:e.uid})),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("error at login userrrrrrrr",t.t0),a(G(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))}));return function(){t()}}),[]),r.a.createElement("div",null,":D")},X=a(98),Y=a(99),Z=a(101),q=a(100);function H(){var e=Object(A.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red; \n"]);return H=function(){return e},e}var $=Object(D.css)(H()),ee=(r.a.Component,a(22)),te=Object(ee.c)({weather:E,map:W,user:J}),ae=Object(m.a)({reducer:te});a(177);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:ae},r.a.createElement(Q,null))),document.getElementById("root"))},32:function(e,t,a){e.exports={container:"weather-card_container__3JHUV",bar:"weather-card_bar__6RXbt",icon:"weather-card_icon__1vPvu",name:"weather-card_name__Fb8bt"}},59:function(e,t,a){e.exports={container:"current-weather_container__wKpuE",iconAnddTemp:"current-weather_iconAnddTemp__3K77A",icon:"current-weather_icon__BM6wD"}},60:function(e,t,a){},66:function(e,t,a){e.exports={container:"forecast-card_container__1qZsT",icon:"forecast-card_icon__-TpST"}},67:function(e,t,a){e.exports={container:"Search-Tab_container__2o8sR",list:"Search-Tab_list__205Im"}},68:function(e,t,a){e.exports={container:"search-box_container__2vE2e",algolia:"search-box_algolia__2XrLe"}},87:function(e,t,a){e.exports={container:"home_container__17Yf0"}},89:function(e,t,a){e.exports={container:"Map_container__2covr"}},91:function(e,t,a){e.exports={text:"heart-icon_text__Rz5Uj"}},92:function(e,t,a){e.exports={text:"circle-icon_text__1K2zY"}},94:function(e,t,a){e.exports={container:"weather-card-list_container__1KhbA"}},97:function(e,t,a){e.exports={container:"favorite-tab_container__1Q--y"}}},[[109,1,2]]]);
//# sourceMappingURL=main.b606210d.chunk.js.map